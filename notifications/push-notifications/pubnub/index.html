<!DOCTYPE html>
<html lang="en">
  <head>
    <script>
      // Hack for scrolling window when linking to anchor tag with fixed nav header
      var shiftWindow = function() { scrollBy(0, -75) };
      window.addEventListener("hashchange", shiftWindow);
      function load() { if (window.location.hash) shiftWindow(); }
    </script>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    
    <link rel="canonical" href="https://github.com/ringcentral/ringcentral-api-docs/notifications/push-notifications/pubnub/">
    <link rel="shortcut icon" href="../../../favicon.ico">
    
    <title>Using PubNub - Developing with RingCentral</title>
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link href="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.css" rel="stylesheet">
    <link href="../../../css/code-styles.css" rel="stylesheet">
    <link href="../../../css/code-tabs.css" rel="stylesheet">
    <link href="../../../css/admonition.css" rel="stylesheet">
    <link href="../../../css/base.css" rel="stylesheet">
    <link href="../../../css/ringcentral.css" rel="stylesheet">
    <link href="../../../extra.css" rel="stylesheet">
    <link href="../../../css/mega-menu.css" rel="stylesheet">
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
    <script src="../../../fonts.js"></script>
    <script src="https://kit.fontawesome.com/2a3737b952.js" crossorigin="anonymous"></script>
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
          (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
			       m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
			      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
      
      ga('create', 'UA-57519112-1', 'developers.ringcentral.com');
      ga('send', 'pageview');
    </script> 
  </head>
  
  <body class="office " data-spy="scroll" data-target="#toc">
      <header>
    <div class="top-mininav container">
      <ul class="nav justify-content-end">
        <li class="nav-item"><a href="https://www.ringcentral.com/apps" rel="nofollow">App Gallery</a></li>
        <li class="nav-item"><a href="https://www.ringcentral.com/" rel="nofollow">RingCentral Home</a></li>
      </ul>
    </div>
    <nav class="navbar navbar-expand-lg primary">
      <div class="container">
        <a class="navbar-brand" href="https://developers.ringcentral.com/" rel="nofollow">
          <img src="../../../img/logo_beta.svg" class="d-inline-block align-top" alt="">
        </a>
        <div class="collapse navbar-collapse dpw-category-nav">
          <ul class="navbar-nav">
            <li class="nav-item office active dpw-category">
              <a class="nav-link" href="https://developers.ringcentral.com/">Office <span class="sr-only">(current)</span></a>
            </li>
            <li class="nav-item engage dpw-category">
              <a class="nav-link" href="https://developers.ringcentral.com/engage/api-products/digital">Engage</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <div class="navbar navbar-expand secondary">
      <div id="secondary-nav" class="collapse navbar-collapse container">
        <ul class="nav navbar-nav">
          <li class="dropdown mega-dropdown products horiz-nav-item nav-item">
            <a href="#" data-toggle="dropdown">Product</a>        
            <div class="dropdown-menu mega-dropdown-menu">
              <ul class="row">
                <li class="col-sm-2 secondary-nav-cta">
                  <div class="secondary-nav-cta-content">
                    <p class="h3">Products</p>
                    <p>Try all of our APIs for free in your very own secure development sandbox.</p>
                    <a href="https://developers.ringcentral.com/guide" rel="nofollow" class="btn btn-primary">Get Started</a>
                  </div>
                </li>
                <li class="col-sm-3 secondary-nav-links">
                  <p class="h4">APIs</p>
                  <ul>
                    <li><a class="nav-link" href="https://developer.ringcentral.com/api-products/voice" rel="nofollow">Voice</a></li>
                    <li><a class="nav-link" href="https://developer.ringcentral.com/api-products/sms" rel="nofollow">SMS/MMS</a></li>
                    <li><a class="nav-link" href="https://developer.ringcentral.com/api-products/team-messaging" rel="nofollow">Glip Messaging</a></li>
                    <li><a class="nav-link" href="https://developer.ringcentral.com/api-products/meetings" rel="nofollow">Meetings</a></li>
                    <li><a class="nav-link" href="https://developer.ringcentral.com/api-products/fax" rel="nofollow">Fax</a></li>
                    <li><a class="nav-link" href="https://developer.ringcentral.com/api-products/data" rel="nofollow">Data</a></li>
                    <li><a class="nav-link" href="https://developer.ringcentral.com/api-products/configuration" rel="nofollow">Configuration</a></li>
                  </ul>
                </li>
                <li class="col-sm-3  secondary-nav-links">
                  <p class="h4">App Gallery</p>
                  <ul>
                    <li><a href="https://www.ringcentral.com/apps/?appCategory=Automation" rel="nofollow">Automation</a></li>
                    <li><a href="https://www.ringcentral.com/apps/?appCategory=Bots%20%26%20Notifications" rel="nofollow">Bots & Notification</a></li>
                    <li><a href="https://www.ringcentral.com/apps/?appCategory=Customer%20Support" rel="nofollow">Customer Support</a></li>
                    <li><a href="https://www.ringcentral.com/apps/?appCategory=CRM" rel="nofollow">CRM</a></li>
                    <li><a href="https://www.ringcentral.com/apps/?appCategory=Healthcare" rel="nofollow">Healthcare</a></li>
                    <li><a href="https://www.ringcentral.com/apps/" rel="nofollow">Browse all categories</a></li>
                  </ul>
                </li>
                <li class="col-sm-3 secondary-nav-links">
                  <p class="h4">Widgets</p>
                  <ul>
                    <li><a href="https://developer.ringcentral.com/embeddable-voice.html" rel="nofollow">RingCentral Embeddable</a></li>
                    <li><a href="https://github.com/ringcentral/ringcentral-embeddable-extension-factory" rel="nofollow">Chrome Kit</a></li>
                    <li><a href="https://github.com/ringcentral/ringcentral-embeddable-for-google-firefox-addon" rel="nofollow">Firefox Kit</a></li>
                    <li><a href="https://github.com/ringcentral/ringcentral-c2d" rel="nofollow">Click-to-Dial</a></li>
                  </ul>
                </li>
                <li class="col-sm-1 secondary-nav-links"></li>
              </ul>
            </div>       
          </li>
          <li class="dropdown mega-dropdown resources horiz-nav-item nav-item">
            <a href="https://developers.ringcentral.com/api-and-docs.html" data-toggle="dropdown">Resources</a>        
            <div class="dropdown-menu mega-dropdown-menu">
              <ul class="row">
                <li class="col-sm-2 secondary-nav-cta">
                  <div class="secondary-nav-cta-content">  
                    <p class="h3">Resources</p>
                    <p>Build your first app in your preferred programming language in 5 minutes or less.</p>
                    <a href="https://developers.ringcentral.com/guide" rel="nofollow" class="btn">Get Started</a>
                  </div>
                </li>
                <li class="col-sm-2 secondary-nav-links">
                  <p class="h4">Documentation</p>
                  <ul>
                    <li><a href="https://developers.ringcentral.com/guide" rel="nofollow">Getting started</a></li>
                    <li><a href="https://developers.ringcentral.com/guide" rel="nofollow">Developer Guide</a></li>
                    <li><a href="https://developers.ringcentral.com/tutorials.html" rel="nofollow">Browse tutorials</a></li>
                    <li><a href="https://ringcentral-api-changelog.readthedocs.io/en/latest/" rel="nofollow">API changelog</a></li>
                  </ul>
                </li>
                <li class="col-sm-2 secondary-nav-links">
                  <p class="h4">API Reference</p>
                  <ul>
                    <li><a href="https://developers.ringcentral.com/api-reference/Call-Log" rel="nofollow">Call log</a></li>
                    <li><a href="https://developers.ringcentral.com/api-reference/RingOut" rel="nofollow">RingOut</a></li>
                    <li><a href="https://developers.ringcentral.com/api-reference/SMS" rel="nofollow">SMS</a></li>
                    <li><a href="https://developers.ringcentral.com/api-reference/Chats" rel="nofollow">Team messaging</a></li>
                    <li><a href="https://developers.ringcentral.com/api-reference/Meeting-Management" rel="nofollow">Meetings</a></li>
                    <li><a href="https://developers.ringcentral.com/api-reference/Fax" rel="nofollow">Fax</a></li>
                    <li><a href="https://developers.ringcentral.com/api-reference" rel="nofollow">See all APIs</a></li>
                  </ul>
                </li>
                <li class="col-sm-2 secondary-nav-links">
                  <p class="h4">Downloads</p>
                  <ul>
                    <li><a href="https://developers.ringcentral.com/guide/sdks" rel="nofollow">SDKs</a></li>
                    <li><a href="https://developers.ringcentral.com/library/chatbots.html" rel="nofollow">SMS bot frameworks</a></li>
                    <li><a href="https://developers.ringcentral.com/library/chatbots.html" rel="nofollow">Glip bot frameworks</a></li>
                  </ul>
                </li>
                <li class="col-sm-2 secondary-nav-links">
                  <p class="h4">Use Cases</p>
                  <ul>
                    <li><a href="https://www.ringcentral.com/whyringcentral/casestudies.html?product=16" rel="nofollow">Case studies</a></li>
                    <li><a href="https://www.ringcentral.com/resources/learning-center.html#whitepapers" rel="nofollow">Whitepapers</a></li>
                  </ul>
                </li>
              </ul>
            </div>           
          </li>
          <li class="dropdown mega-dropdown community horiz-nav-item nav-item">
            <a href="https://developers.ringcentral.com/community.html" data-toggle="dropdown">Community</a>        
            <div class="dropdown-menu mega-dropdown-menu">
              <ul class="row">
                <li class="col-sm-2 secondary-nav-cta">
                  <div class="secondary-nav-cta-content">
                    <p class="h3">Community</p>
                    <p>Grow your skills, earn RingCentral swag, software, conference passes, electronics, and more.</p>
                    <a href="https://gamechanging.dev/" class="btn" rel="nofollow">Become a Game Changer</a>
                  </div>
                </li>
                <li class="col-sm-2 secondary-nav-links">
                  <p class="h4">Discuss</p>
                  <ul>
                    <li><a href="https://developers.ringcentral.com/go-to-community.html" rel="nofollow">Developer Forum</a></li>
                    <li><a href="https://stackoverflow.com/questions/tagged/ringcentral" rel="nofollow">StackOverflow</a></li>
                    <li><a href="https://developers.ringcentral.com/community.html" rel="nofollow">Live Chat via Glip</a></li>
                  </ul>
                </li>
                <li class="col-sm-2 secondary-nav-links">
                  <p class="h4">Learn</p>
                  <ul>
                    <li><a href="https://medium.com/ringcentral-developers" rel="nofollow">Blog</a></li>
                    <li><a href="https://developers.ringcentral.com/support/developer-events.html" rel="nofollow">Events</a></li>
                    <li><a href="https://go.ringcentral.com/Developer-Webinar-Series-Registration.html" rel="nofollow">Webinars</a></li>
                  </ul>
                </li>
                <li class="col-sm-2 secondary-nav-links">
                  <p class="h4">Share</p>
                  <ul>
                    <li><a href="https://twitter.com/RingCentralDevs" rel="nofollow">Twitter</a></li>
                    <li><a href="https://github.com/ringcentral/" rel="nofollow">Github</a></li>
                    <li><a href="https://www.youtube.com/watch?v=H4n-7dBFTEc&list=PLpfipw7KaEwagUy8S4Za25usqFg4bWiAx" rel="nofollow">YouTube</a></li>
                  </ul>
                </li>
                <li class="col-sm-2 secondary-nav-links">
                  <p class="h4">Partner</p>
                  <ul>
                    <li><a href="https://www.ringcentral.com/apps/" rel="nofollow">App Gallery</a></li>
                    <li><a href="https://www.ringcentral.com/partner/isv.html" rel="nofollow">Partner Program</a></li>
                  </ul>
                </li>
              </ul>
            </div>           
          </li>
          <li class="gamechangers horiz-nav-item nav-item"><a href="https://gamechanging.dev/" rel="nofollow">Game Changers</a></li>
          <li class="dropdown mega-dropdown support horiz-nav-item nav-item">
            <a href="https://developers.ringcentral.com/support.html" data-toggle="dropdown">Support</a>        
            <div class="dropdown-menu mega-dropdown-menu">
              <ul class="row">
                <li class="col-sm-2 secondary-nav-cta">
                  <div class="secondary-nav-cta-content">
                    <p class="h3">Support</p>
                    <p>Get your questions answered by our amazing community in the RingCentral Developers forum.</p>
                    <a href="https://developers.ringcentral.com/go-to-community.html" rel="nofollow" class="btn">Post in the forum</a>
                  </div>
                </li>
                <li class="col-sm-3 secondary-nav-links">
                  <p class="h4">Support</p>
                  <ul>
                    <li><a href="https://ringcentral-faq.readthedocs.io/" rel="nofollow">FAQs</a></li>
                    <li><a href="https://developers.ringcentral.com/go-to-community.html" rel="nofollow">Developer Forum</a></li>
                    <li><a href="https://developers.ringcentral.com/api/support-cases/create" rel="nofollow">Create a ticket</a></li>
                    <li><a href="https://developers.ringcentral.com/api/support-cases/check" rel="nofollow">View your tickets</a></li>
                  </ul>
                </li>
                <li class="col-sm-3 secondary-nav-links">
                  <p class="h4">Professional Services</p>
                  <ul>
                    <li><a href="https://developers.ringcentral.com/support/services.html" rel="nofollow">Let us build the perfect app for you</a></li>
                  </ul>
                </li>
              </ul>
            </div>           
          </li>
          <li class="console horiz-nav-item nav-item"><a href="https://developers.ringcentral.com/my-account.html" rel="nofollow">Console</a></li>
        </ul>
      </div><!-- /.nav-collapse -->
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#secondary-nav" aria-controls="secondary-nav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
    </div>
  </header>
    <div id="content"class="container-fluid">
      
    <div class="row flex-nowrap"><div id="sidebar-nav" class="sidebar col-md-3"><nav id="sidenav" class="navbar navbar-default navbar-expand-md navbar-dark" role="navigation">
  <a class="navbar-brand d-block d-md-none d-xl-none" href="#"><i class="fa fa-home fa-fw"></i> Table of Contents</a>
  <button class="navbar-toggler ml-auto hidden-sm-up float-xs-right" type="button" data-toggle="collapse" data-target="#sidebar-navbar-collapse" aria-controls="sidebar-navbar-collapse" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>
  <div class="collapse navbar-collapse" id="sidebar-navbar-collapse">
    <!-- Main navigation -->
    <ul class="nav navbar-nav flex-column">
      <li id="nav-item-voice" class="toplevel nav-item" data-toggle="collapse" data-target="#voice">
	<!--<i class="nav-item-icon"></i>-->
        <span class="section-title">Voice</span>
        <ul id="voice" class="collapse">
          
<li>
    <a href="../../../voice/" class="">Overview</a>
</li>
          
<li>
    <a href="../../../voice/quick-start/" class="">Getting Started</a>
</li>
          
<li>
  <span>Placing Calls</span>
  <!--<a href="#" class="">Placing Calls</a>-->
  <ul>
    
<li>
    <a href="../../../voice/ringout/" class="">RingOut</a>
</li>
    
<li>
    <a href="../../../voice/webrtc/" class="">WebRTC</a>
</li>
    
<li>
    <a href="../../../voice/uri-scheme/" class="">URI Scheme</a>
</li>
  </ul>
</li>
          
<li>
  <span>Call Routing</span>
  <!--<a href="#" class="">Call Routing</a>-->
  <ul>
    
<li>
    <a href="../../../voice/call-routing/" class="">Overview</a>
</li>
    
<li>
    <a href="../../../voice/call-routing/get-started/" class="">Get Started</a>
</li>
    
<li>
    <a href="../../../voice/call-routing/manual/answering-rules/" class="">Answering Rules Overview</a>
</li>
    
<li>
    <a href="../../../voice/call-routing/manual/user-answering-rules/" class="">User Answering Rules</a>
</li>
    
<li>
    <a href="../../../voice/call-routing/manual/company-answering-rules/" class="">Company Answering Rules</a>
</li>
    
<li>
    <a href="../../../voice/call-routing/manual/call-queues/" class="">Call Queues</a>
</li>
    
<li>
    <a href="../../../voice/call-routing/manual/call-queues-presence/" class="">Call Queues Presence</a>
</li>
    
<li>
    <a href="../../../voice/call-routing/manual/call-forwarding/" class="">Call Forwarding/Flipping</a>
</li>
  </ul>
</li>
          
<li>
  <span>Call Control</span>
  <!--<a href="#" class="">Call Control</a>-->
  <ul>
    
<li>
    <a href="../../../voice/call-control/" class="">Overview</a>
</li>
    
<li>
    <a href="../../../voice/finding-active-calls/" class="">Finding active calls</a>
</li>
    
<li>
    <a href="../../../voice/call-control-sessions/" class="">Detecting state changes</a>
</li>
    
<li>
    <a href="../../../voice/pre-call-control/" class="">Pre-call Control</a>
</li>
    
<li>
    <a href="../../../voice/active-call-control/" class="">Active-call Control</a>
</li>
    
<li>
    <a href="../../../voice/supervision/" class="">Call Monitoring</a>
</li>
    
<li>
    <a href="../../../voice/conference/" class="">Conference call</a>
</li>
    
<li>
    <a href="../../../voice/warm-transfer/" class="">Warm Transfer</a>
</li>
    
<li>
    <a href="../../../voice/telephony-session-notifications/" class="">Telephony Session Notifications</a>
</li>
    
<li>
    <a href="https://github.com/ringcentral/ringcentral-call-control-js" class="">Call Control SDK</a>
</li>
  </ul>
</li>
          
<li>
  <span>Call Logs</span>
  <!--<a href="#" class="">Call Logs</a>-->
  <ul>
    
<li>
    <a href="../../../voice/call-log/reading-call-log/" class="">Reading Call Log Data</a>
</li>
    
<li>
    <a href="../../../voice/call-log/api/" class="">Data Types</a>
</li>
    
<li>
    <a href="../../../voice/call-log/details/" class="">Detailed Call Log Data</a>
</li>
    
<li>
    <a href="../../../voice/call-log/archival/" class="">Data Archival</a>
</li>
    
<li>
    <a href="../../../voice/call-log/recordings/" class="">Call Recordings</a>
</li>
    
<li>
    <a href="../../../voice/call-log/sync/" class="">Synchronization</a>
</li>
    
<li>
    <a href="../../../voice/call-log/best-practices/" class="">Best Practices</a>
</li>
    
<li>
    <a href="../../../voice/call-log/access/" class="">Access Control</a>
</li>
  </ul>
</li>
          
<li>
  <span>Call Analytics</span>
  <!--<a href="#" class="">Call Analytics</a>-->
  <ul>
    
<li>
    <a href="../../../voice/calculating-call-time-metrics/" class="">Calculating Call Metrics</a>
</li>
  </ul>
</li>
          
<li>
  <span>Sample Applications</span>
  <!--<a href="#" class="">Sample Applications</a>-->
  <ul>
    
<li>
    <a href="https://ringcentral-tutorials.github.io/getting-started-with-webrtc-js-demo/" class="">Building a Web Phone with WebRTC</a>
</li>
    
<li>
    <a href="https://ringcentral-tutorials.github.io/calllog-analytics-swift-demo/" class="">Call Log Analytics for iOS</a>
</li>
    
<li>
    <a href="https://ringcentral-tutorials.github.io/calllog-visualization-nodejs-demo/" class="">Call Log Visualizations</a>
</li>
    
<li>
    <a href="https://ringcentral-tutorials.github.io/callrecording-notification-node/" class="">Call Recording Push Notification</a>
</li>
  </ul>
</li>
        </ul>
      </li>
      <li id="nav-item-sms-and-fax" class="toplevel nav-item" data-toggle="collapse" data-target="#sms-and-fax">
	<!--<i class="nav-item-icon"></i>-->
        <span class="section-title">SMS and Fax</span>
        <ul id="sms-and-fax" class="collapse">
          
<li>
    <a href="../../../messaging/" class="">Overview</a>
</li>
          
<li>
    <a href="../../../messaging/quick-start/" class="">Getting Started</a>
</li>
          
<li>
  <span>Standard SMS</span>
  <!--<a href="#" class="">Standard SMS</a>-->
  <ul>
    
<li>
    <a href="../../../messaging/sms/best-practices/" class="">Best Practices</a>
</li>
    
<li>
    <a href="../../../messaging/sms/sending-sms/" class="">Sending an SMS</a>
</li>
    
<li>
    <a href="../../../messaging/sms/sending-images/" class="">Sending an MMS</a>
</li>
    
<li>
    <a href="../../../messaging/sms/valid-sms-numbers/" class="">Valid SMS Numbers</a>
</li>
  </ul>
</li>
          
<li>
  <span>High Volume SMS</span>
  <!--<a href="#" class="">High Volume SMS</a>-->
  <ul>
    
<li>
    <a href="../../../messaging/sms/high-volume/" class="">Overview</a>
</li>
    
<li>
    <a href="../../../messaging/sms/high-volume/best-practices/" class="">Best Practices</a>
</li>
    
<li>
    <a href="../../../messaging/sms/high-volume/sending-highvolume-sms/" class="">Sending High Volume SMS</a>
</li>
    
<li>
    <a href="../../../messaging/sms/high-volume/message-store/" class="">Reading High Volume Message Store</a>
</li>
    
<li>
    <a href="../../../messaging/sms/high-volume/toll-free-sms-vs-local-numbers/" class="">Toll-Free vs. Local Numbers</a>
</li>
    
<li>
    <a href="../../../messaging/sms/high-volume/opt-out/" class="">Opt-in / Opt-out</a>
</li>
    
<li>
    <a href="../../../messaging/sms/high-volume/events/" class="">Event Notifications</a>
</li>
    
<li>
    <a href="../../../messaging/sms/high-volume/handling-errors/" class="">Errors Handling</a>
</li>
  </ul>
</li>
          
<li>
  <span>Fax</span>
  <!--<a href="#" class="">Fax</a>-->
  <ul>
    
<li>
    <a href="../../../messaging/fax/sending-faxes/" class="">Sending Faxes</a>
</li>
    
<li>
    <a href="../../../messaging/fax/fax-multipart-formats/" class="">Multipart Formats</a>
</li>
    
<li>
    <a href="../../../messaging/fax/receiving-faxes/" class="">Receiving Faxes</a>
</li>
    
<li>
    <a href="../../../messaging/fax/resending-faxes/" class="">Forwarding and Resending Faxes</a>
</li>
  </ul>
</li>
          
<li>
  <span>Pager Messages</span>
  <!--<a href="#" class="">Pager Messages</a>-->
  <ul>
    
<li>
    <a href="../../../messaging/pager/sending-pager-messages/" class="">Sending Pager Messages</a>
</li>
  </ul>
</li>
          
<li>
  <span>Message Store</span>
  <!--<a href="#" class="">Message Store</a>-->
  <ul>
    
<li>
    <a href="../../../messaging/message-store/messaging/" class="">Sending Messages</a>
</li>
    
<li>
    <a href="../../../messaging/message-store/working-with-message-store/" class="">Working with Message Store</a>
</li>
    
<li>
    <a href="../../../messaging/message-store/message-sync/" class="">Message Synchronization</a>
</li>
    
<li>
    <a href="../../../messaging/message-store/message-histories/" class="">Modifying Message Histories</a>
</li>
    
<li>
    <a href="../../../messaging/message-store/message-exports-report/" class="">Message Store Export</a>
</li>
  </ul>
</li>
          
<li>
  <span>Sample Applications</span>
  <!--<a href="#" class="">Sample Applications</a>-->
  <ul>
    
<li>
    <a href="https://ringcentral-tutorials.github.io/sms-api-nodejs-demo/" class="">SMS Sample App Walkthrough</a>
</li>
    
<li>
    <a href="https://ringcentral-tutorials.github.io/a2p-sms-messaging-nodejs-demo/" class="">A2P SMS Messaging</a>
</li>
    
<li>
    <a href="https://ringcentral-tutorials.github.io/sms-2fa-nodejs-demo/" class="">Two-factor Authentication</a>
</li>
    
<li>
    <a href="https://ringcentral-tutorials.github.io/fax-cover-page-nodejs-demo/" class="">Custom Fax Cover Pages</a>
</li>
  </ul>
</li>
        </ul>
      </li>
      <li id="nav-item-team-messaging" class="toplevel nav-item" data-toggle="collapse" data-target="#team-messaging">
	<!--<i class="nav-item-icon"></i>-->
        <span class="section-title">Team Messaging</span>
        <ul id="team-messaging" class="collapse">
          
<li>
    <a href="../../../team-messaging/" class="">Overview</a>
</li>
          
<li>
    <a href="../../../team-messaging/quick-start/" class="">Getting Started</a>
</li>
          
<li>
  <span>Posting Messages</span>
  <!--<a href="#" class="">Posting Messages</a>-->
  <ul>
    
<li>
    <a href="../../../team-messaging/manual/posting/" class="">Simple text messages</a>
</li>
    
<li>
    <a href="../../../team-messaging/manual/posting-cards/" class="">Posting Cards</a>
</li>
    
<li>
    <a href="../../../team-messaging/manual/posting-images/" class="">Posting Images</a>
</li>
    
<li>
    <a href="../../../team-messaging/manual/attaching-files/" class="">Uploading and posting files</a>
</li>
  </ul>
</li>
          
<li>
  <span>Chats, Groups, Teams</span>
  <!--<a href="#" class="">Chats, Groups, Teams</a>-->
  <ul>
    
<li>
    <a href="../../../team-messaging/manual/chats/" class="">Chats</a>
</li>
    
<li>
    <a href="../../../team-messaging/manual/conversations/" class="">Conversations</a>
</li>
    
<li>
    <a href="../../../team-messaging/manual/teams/" class="">Teams</a>
</li>
    
<li>
    <a href="../../../team-messaging/manual/pagination/" class="">Pagination</a>
</li>
  </ul>
</li>
          
<li>
  <span>Incoming Webhooks</span>
  <!--<a href="#" class="">Incoming Webhooks</a>-->
  <ul>
    
<li>
    <a href="../../../team-messaging/manual/webhook-creation/" class="">Webhook Creation</a>
</li>
    
<li>
    <a href="../../../team-messaging/manual/webhook-posting/" class="">Webhook Posting (v2)</a>
</li>
    
<li>
    <a href="../../../team-messaging/manual/formatting/" class="">Webhook Posting (v1)</a>
</li>
    
<li>
    <a href="../../../team-messaging/manual/testing-webhooks/" class="">Testing using cURL</a>
</li>
  </ul>
</li>
          
<li>
  <span>Compliance Export</span>
  <!--<a href="#" class="">Compliance Export</a>-->
  <ul>
    
<li>
    <a href="../../../team-messaging/manual/compliance-export/" class="">Compliance Export</a>
</li>
    
<li>
    <a href="../../../team-messaging/manual/compliance-export-structure/" class="">Export File Structure</a>
</li>
  </ul>
</li>
          
<li>
  <span>Bots</span>
  <!--<a href="#" class="">Bots</a>-->
  <ul>
    
<li>
    <a href="../../../team-messaging/manual/local-bots/" class="">Building a Bot Locally</a>
</li>
    
<li>
    <a href="../../../team-messaging/manual/node/" class="">Build a Bot in Node</a>
</li>
    
<li>
    <a href="../../../team-messaging/manual/frameworks/" class="">Bot Frameworks</a>
</li>
  </ul>
</li>
          
<li>
  <span>Outgoing Events and Webhooks</span>
  <!--<a href="#" class="">Outgoing Events and Webhooks</a>-->
  <ul>
    
<li>
    <a href="../../../team-messaging/manual/outgoing-webhooks/" class="">Subscribing to Webhooks</a>
</li>
    
<li>
    <a href="../../../team-messaging/manual/events-posts/" class="">Post Events</a>
</li>
    
<li>
    <a href="../../../team-messaging/manual/events-groups/" class="">Chat Events</a>
</li>
    
<li>
    <a href="../../../team-messaging/manual/events-incoming-webhooks/" class="">Incoming Webhook Events</a>
</li>
  </ul>
</li>
          
<li>
    <a href="../../../team-messaging/manual/links/" class="">Deep links</a>
</li>
          
<li>
  <span>Sample Applications</span>
  <!--<a href="#" class="">Sample Applications</a>-->
  <ul>
    
<li>
    <a href="https://ringcentral-tutorials.github.io/botkit-watson-bot-nodejs-demo/" class="">Bot using IBM Watson and Botkit</a>
</li>
    
<li>
    <a href="https://ringcentral-tutorials.github.io/ringcentral-ai-bot/" class="">Voicemail Transcription Bot</a>
</li>
  </ul>
</li>
        </ul>
      </li>
      <li id="nav-item-meetings" class="toplevel nav-item" data-toggle="collapse" data-target="#meetings">
	<!--<i class="nav-item-icon"></i>-->
        <span class="section-title">Meetings</span>
        <ul id="meetings" class="collapse">
          
<li>
    <a href="../../../meetings/" class="">Overview</a>
</li>
          
<li>
    <a href="../../../meetings/quick-start/" class="">Getting Started</a>
</li>
          
<li>
    <a href="../../../meetings/video/" class="">RingCentral Video API</a>
</li>
          
<li>
    <a href="../../../meetings/embeddable/" class="">Embeddable</a>
</li>
        </ul>
      </li><li class="divider"><hr></li>
      <li id="nav-item-using-the-api" class="toplevel nav-item" data-toggle="collapse" data-target="#using-the-api">
	<!--<i class="nav-item-icon"></i>-->
        <span class="section-title">Using the API</span>
        <ul id="using-the-api" class="collapse">
          
<li>
    <a href="../../../basics/uris/" class="">Methods, endpoints and parameters</a>
</li>
          
<li>
    <a href="../../../basics/explorer/" class="">Exploring the API</a>
</li>
          
<li>
    <a href="../../../basics/your-rc-phone/" class="">Using phones in sandbox</a>
</li>
          
<li>
    <a href="../../../basics/media/" class="">Media content</a>
</li>
          
<li>
    <a href="../../../basics/permissions/" class="">App permissions</a>
</li>
          
<li>
    <a href="../../../basics/uri-schemes/" class="">URI schemes</a>
</li>
          
<li>
    <a href="../../../basics/rate-limits/" class="">Rate limits</a>
</li>
          
<li>
  <span>API Change Log</span>
  <!--<a href="#" class="">API Change Log</a>-->
  <ul>
    
<li>
    <a href="../../../basics/changelog/" class="">Preface</a>
</li>
    
<li>
    <a href="../../../basics/changelog/1_0_47/" class="">v.1.0.47 (May 2021)</a>
</li>
    
<li>
    <a href="../../../basics/changelog/1_0_46/" class="">v.1.0.46 (Feb 2021)</a>
</li>
    
<li>
    <a href="../../../basics/changelog/1_0_45/" class="">v.1.0.45 (Nov 2020)</a>
</li>
    
<li>
    <a href="../../../basics/changelog/1_0_44/" class="">v.1.0.44 (Aug 2020)</a>
</li>
    
<li>
    <a href="../../../basics/changelog/1_0_43/" class="">v.1.0.43 (May 2020)</a>
</li>
    
<li>
    <a href="../../../basics/changelog/1_0_42/" class="">v.1.0.42 (Feb 2020)</a>
</li>
    
<li>
    <a href="../../../basics/changelog/1_0_41/" class="">v.1.0.41 (Dec 2019)</a>
</li>
    
<li>
    <a href="../../../basics/changelog/1_0_40/" class="">v.1.0.40 (Aug 2019)</a>
</li>
    
<li>
    <a href="../../../basics/changelog/1_0_39/" class="">v.1.0.39 (May 2019)</a>
</li>
  </ul>
</li>
          
<li>
    <a href="../../../basics/api-index/" class="">API Quick Reference</a>
</li>
        </ul>
      </li>
      <li id="nav-item-applications" class="toplevel nav-item" data-toggle="collapse" data-target="#applications">
	<!--<i class="nav-item-icon"></i>-->
        <span class="section-title">Applications</span>
        <ul id="applications" class="collapse">
          
<li>
  <span>Development Lifecycle</span>
  <!--<a href="#" class="">Development Lifecycle</a>-->
  <ul>
    
<li>
    <a href="../../../basics/your-first-steps/" class="">Tips for your first app</a>
</li>
    
<li>
    <a href="../../../basics/create-app/" class="">Create an application</a>
</li>
    
<li>
    <a href="../../../basics/sandbox/" class="">Develop in sandbox</a>
</li>
    
<li>
    <a href="../../../basics/production/" class="">Graduate to production</a>
</li>
  </ul>
</li>
          
<li>
  <span>App Promotion</span>
  <!--<a href="#" class="">App Promotion</a>-->
  <ul>
    
<li>
    <a href="../../../basics/app-gallery/" class="">Submit to the App Gallery</a>
</li>
    
<li>
    <a href="../../../basics/update-profile/" class="">Update a Profile</a>
</li>
    
<li>
    <a href="../../../basics/app-gallery-checklist/" class="">Checklist and Best Practices</a>
</li>
  </ul>
</li>
          
<li>
  <span>Application Management</span>
  <!--<a href="#" class="">Application Management</a>-->
  <ul>
    
<li>
    <a href="../../../basics/lead-forms/" class="">Using Lead Forms</a>
</li>
    
<li>
    <a href="../../../basics/install-app-button/" class="">Install App Buttons</a>
</li>
  </ul>
</li>
          
<li>
  <span>Partner Ecosystem</span>
  <!--<a href="#" class="">Partner Ecosystem</a>-->
  <ul>
    
<li>
    <a href="../../../basics/partner-compatibility/" class="">Overview</a>
</li>
    
<li>
    <a href="../../../basics/partners/segregated-environments/" class="">Technical Requirements</a>
</li>
    
<li>
  <span>Brand Guidelines</span>
  <!--<a href="#" class="">Brand Guidelines</a>-->
  <ul>
    
<li>
    <a href="../../../basics/partners/att/" class="">AT&T Office@Hand</a>
</li>
    
<li>
    <a href="../../../basics/partners/aco/" class="">Avaya Cloud Office</a>
</li>
    
<li>
    <a href="../../../basics/partners/bt/" class="">BT Cloud Work</a>
</li>
    
<li>
    <a href="../../../basics/partners/alcatel/" class="">Rainbow Office</a>
</li>
    
<li>
    <a href="../../../basics/partners/telus/" class="">TELUS Business Connect</a>
</li>
    
<li>
    <a href="../../../basics/partners/atos/" class="">Unify Office</a>
</li>
  </ul>
</li>
  </ul>
</li>
        </ul>
      </li>
      <li id="nav-item-account" class="toplevel nav-item" data-toggle="collapse" data-target="#account">
	<!--<i class="nav-item-icon"></i>-->
        <span class="section-title">Account</span>
        <ul id="account" class="collapse">
          
<li>
    <a href="../../../account/" class="">Overview</a>
</li>
          
<li>
    <a href="../../../account/extensions/" class="">Users and Extensions</a>
</li>
          
<li>
    <a href="../../../account/phone-numbers/" class="">Phone Numbers</a>
</li>
          
<li>
    <a href="../../../account/call-forwarding-flipping/" class="">Call Forwarding/Flipping</a>
</li>
          
<li>
    <a href="../../../account/feature-flags/" class="">User Feature Flags</a>
</li>
          
<li>
    <a href="../../../account/custom-fields/" class="">Custom Fields</a>
</li>
          
<li>
    <a href="../../../account/presence/" class="">Presence</a>
</li>
        </ul>
      </li>
      <li id="nav-item-authentication" class="toplevel nav-item" data-toggle="collapse" data-target="#authentication">
	<!--<i class="nav-item-icon"></i>-->
        <span class="section-title">Authentication</span>
        <ul id="authentication" class="collapse">
          
<li>
    <a href="../../../authentication/" class="">Overview</a>
</li>
          
<li>
    <a href="../../../authentication/quick-start/" class="">Getting Started</a>
</li>
          
<li>
  <span>Developer Manual</span>
  <!--<a href="#" class="">Developer Manual</a>-->
  <ul>
    
<li>
    <a href="../../../authentication/auth-code-flow/" class="">Auth code flow</a>
</li>
    
<li>
    <a href="../../../authentication/auth-code-pkce-flow/" class="">Auth code flow with PKCE</a>
</li>
    
<li>
    <a href="../../../authentication/password-flow/" class="">Password flow</a>
</li>
    
<li>
    <a href="../../../authentication/implicit-grant-flow/" class="">Implicit grant flow</a>
</li>
    
<li>
    <a href="../../../authentication/tokens/" class="">Using auth tokens</a>
</li>
  </ul>
</li>
        </ul>
      </li>
      <li id="nav-item-address-book" class="toplevel nav-item" data-toggle="collapse" data-target="#address-book">
	<!--<i class="nav-item-icon"></i>-->
        <span class="section-title">Address Book</span>
        <ul id="address-book" class="collapse">
          
<li>
    <a href="../../../address-book/" class="">Overview</a>
</li>
        </ul>
      </li>
      <li id="nav-item-notifications-and-events" class="toplevel nav-item active" data-toggle="collapse" data-target="#notifications-and-events">
	<!--<i class="nav-item-icon"></i>-->
        <span class="section-title">Notifications and Events</span>
        <ul id="notifications-and-events" class="collapse">
          
<li>
    <a href="../../" class="">Overview</a>
</li>
          
<li>
  <span>Push Notifications</span>
  <!--<a href="#" class="">Push Notifications</a>-->
  <ul>
    
<li>
    <a href="../quick-start/" class="">Getting Started</a>
</li>
    
<li>
    <a href="./" class=" active">Using PubNub</a>
</li>
  </ul>
</li>
          
<li>
  <span>WebHooks</span>
  <!--<a href="#" class="">WebHooks</a>-->
  <ul>
    
<li>
    <a href="../../webhooks/quick-start/" class="">Getting Started</a>
</li>
    
<li>
    <a href="../../webhooks/creating-webhooks/" class="">Creating Webhooks</a>
</li>
    
<li>
    <a href="../../webhooks/receiving/" class="">Receiving Webhooks</a>
</li>
    
<li>
    <a href="../../webhooks/configuring-tls-ssl/" class="">Configuring TLS/SSL</a>
</li>
  </ul>
</li>
          
<li>
  <span>Sample Applications</span>
  <!--<a href="#" class="">Sample Applications</a>-->
  <ul>
    
<li>
    <a href="https://ringcentral-tutorials.github.io/sms-api-nodejs-quickstart/" class="">Create SMS Push Notification</a>
</li>
    
<li>
    <a href="https://ringcentral-tutorials.github.io/a2p-sms-messaging-nodejs-demo/" class="">A2P SMS Messaging</a>
</li>
  </ul>
</li>
        </ul>
      </li>
      <li id="nav-item-downloads-and-sdks" class="toplevel nav-item">
        <a class="section-title nav-link" href="../../../sdks/">Downloads and SDKs</a>
      </li>
      <li id="nav-item-ringcentral-labs" class="toplevel nav-item">
        <a class="section-title nav-link" href="../../../labs/">RingCentral Labs</a>
      </li>
    </ul>
  </div>
</nav>
</div><div id="main" class="col" role="main">


<nav aria-label="breadcrumb">
  <ol class="breadcrumb">
    
    
    <li class="breadcrumb-item">Secondary</li>
    
    
    
    <li class="breadcrumb-item">Notifications and Events</li>
    
    
    
    <li class="breadcrumb-item">Push Notifications</li>
    
    
    <li class="breadcrumb-item active" aria-current="page">Using PubNub</li>
  </ol>
</nav>


<h1 id="subscribing-to-real-time-push-notifications">Subscribing to Real-time Push Notifications</h1>
<p>The typical subscription flow is performed as follows:</p>
<ul>
<li>
<p>A client application subscribes to the required events through the RingCentral API. In response the server provides all necessary information for the application to connect to the transport facilities that deliver the notifications: channel address; if required - credentials to access the channel, and notification payload encryption keys.</p>
</li>
<li>
<p>The server starts to push events to the dedicated channel after the subscription is created. The delivery mechanism PubNub queues a certain amount of notifications, awaiting a client to get them.</p>
</li>
<li>
<p>The client can unsubscribe explicitly at any time through the API. In this case the server immediately stops sending push notifications for this client.</p>
</li>
<li>
<p>Each subscription has an expiration time and needs to be renewed explicitly by the client through the API call. If subscription is expired, the server silently stops sending push notifications for this client. The server may change any information it has to provide to client upon subscription renewal. Any changes are provided in the renewal response.</p>
</li>
</ul>
<h2 id="subscription-flow">Subscription Flow</h2>
<p>To use RingCentral Push Notifications the client application can create a notifications subscription that can further be retrieved, changed or deleted by the client via the API requests. Let's consider the subscription flow step-by-step:</p>
<ol>
<li>
<p>Authorization</p>
</li>
<li>
<p>Subscription creation</p>
</li>
<li>
<p>Notifications handling</p>
</li>
<li>
<p>Subscription renewal</p>
</li>
<li>
<p>Event Filters Modification</p>
</li>
<li>
<p>Unsubscribing</p>
</li>
</ol>
<h3 id="authorization">Authorization</h3>
<p>When a client creates a subscription it must be authenticated and authorized to use the RingCentral API. It includes, at least, application authentication. Certain event filter requires the client to be authorized to access specific extension data, so the client needs to pass a valid access token in the request. For more details please refer to the <a href="../../authentication/oauth">Authentication</a> section.</p>
<h3 id="subscription-creation">Subscription Creation</h3>
<p>To create a subscription the client application should send the following request:</p>
<div class="codehilite"><pre><span></span><code><span class="nf">POST</span> <span class="nn">/restapi/v1.0/subscription</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</code></pre></div>

<p>In request body the client should specify event filters and delivery mode.</p>
<p>By setting <strong>event filters</strong> the client specifies the notifications it wants to receive. The event filter is exposed as a URL, pointing to the RingCentral API resource which represents the data for which a notification is sent. Currently the following event types are available: messages and presence (see API Reference: <a href="https://developer.ringcentral.com/api-reference#Notification-Event-Types">Event Types</a>).</p>
<p>The <strong>delivery mode</strong> specifies the certain mechanism used to deliver event notification from the RingCentral service to the client application. Delivery mechanism can be selected by specifying <code>deliveryMode.transportType</code> attribute; currently only one transport channel is supported: the <a href="http://www.pubnub.com">PubNub cloud service</a>, which utilizes HTTP(s) long polling, web socket, and APNS transports for delivering push notifications (for more details see <a href="#notifications-transport">Notifications Transport</a>).</p>
<p>In response the server provides the client with:</p>
<ul>
<li>
<p>identity of the subscription created, and its creation and expiration time; the exact event filters used for the subscription (in case it substituted the default value for some event attribute);</p>
</li>
<li>
<p>delivery mode, including:</p>
<ul>
<li>
<p>transport type;</p>
</li>
<li>
<p>address - channel name to subscribe to;</p>
</li>
<li>
<p>subscriber key and secret key - subscriber credentials required to subscribe to the channel;</p>
</li>
<li>
<p>encryption information.</p>
</li>
</ul>
</li>
</ul>
<p>Some event types provide sensitive data in the notification payload, which should be protected from unauthorized access. Whenever such an event type is requested in <code>eventFilters</code>, encryption is forced on the notifications channel, resulting in all notifications (including those that do not contain sensitive data) to be encrypted. To indicate the encryption mode for a new or renewed subscription, the server specifies the following attributes under <code>deliveryMode</code>: <code>encryptionAlgorithm</code> — name of the specific encryption mechanism, "None" by default. Available encryption mechanisms: <code>encryptionKey</code> — key to be used by the client to decode the notification payload. Encryption can also be forced by specifying <code>deliveryType.encryption = true</code> in subscription creation request.</p>
<p>Consider the following subscription creation request:</p>
<div class="highlight"><pre><span></span><code><span class="err">POST .../restapi/v1.0/subscription</span>

<span class="err">{</span>
<span class="err">    &quot;eventFilters&quot;: [</span>
<span class="err">        &quot;/restapi/v1.0/account/~/extension/401550809004/presence?detailedTelephonyState=true&quot;</span>
<span class="err">    ],</span>
<span class="err">    &quot;deliveryMode&quot;: {</span>
<span class="err">      &quot;transportType&quot;: &quot;PubNub&quot;</span>
<span class="err">    }</span>
<span class="err">}</span>
</code></pre></div>
<p>In response to this request the client application will get all the required information to subscribe to a certain PubNub channel (see PubNub section below to get more information about PubNub subscribing) and receive push notifications for the selected event (extension presence in this case):</p>
<div class="highlight"><pre><span></span><code><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>

{
  &quot;eventFilters&quot; : [ &quot;/restapi/v1.0/account/~/extension/401550809004/presence?detailedTelephonyState=true&quot; ],
  &quot;id&quot; : &quot;78c53776-6aa5-4089-b080-150089c097bf&quot;,
  &quot;deliveryMode&quot; : {
    &quot;transportType&quot; : &quot;PubNub&quot;,
    &quot;encryption&quot; : true,
    &quot;address&quot; : &quot;96830102602705_0d0115d5&quot;,
    &quot;subscriberKey&quot; : &quot;sub-c-b8b9cd8c-e906-11e2-b383-02ee2ddab7fe&quot;,
    &quot;encryptionAlgorithm&quot; : &quot;AES&quot;,
    &quot;encryptionKey&quot; : &quot;fNP0fszFJdc/thDO90/B3A==&quot;
  },
  &quot;expirationTime&quot; : &quot;2013-09-13T13:58:57.187Z&quot;,
  &quot;status&quot; : &quot;Active&quot;,
  &quot;creationTime&quot; : &quot;2013-09-13T13:43:57.187Z&quot;,
  &quot;uri&quot; : &quot;/restapi/v1.0/subscription/78c53776-6aa5-4089-b080-150089c097bf&quot;
}
</code></pre></div>
<h3 id="notifications-handling">Notifications Handling</h3>
<p>Push notifications will be delivered to the client application via the delivery mechanism specified in subscription. Each notification has the same common structure, which can be easily described with a simple example:</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
   <span class="nt">&quot;uuid&quot;</span><span class="p">:</span><span class="s2">&quot;ed1cf00c-0420-4bf5-a0ae-e659bb9f77e0&quot;</span><span class="p">,</span>
   <span class="nt">&quot;event&quot;</span><span class="p">:</span> <span class="s2">&quot;/restapi/v1.0/account/~/extension/823476228762/message-store&quot;</span><span class="p">,</span>
   <span class="nt">&quot;timestamp&quot;</span><span class="p">:</span> <span class="s2">&quot;2013-06-14T12:00:00.000Z&quot;</span><span class="p">,</span>
   <span class="nt">&quot;body&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="err">/*</span> <span class="err">depe</span><span class="kc">n</span><span class="err">ds</span> <span class="err">o</span><span class="kc">n</span> <span class="err">eve</span><span class="kc">nt</span> <span class="kc">t</span><span class="err">ype</span><span class="p">,</span> <span class="err">may</span> <span class="err">eve</span><span class="kc">n</span> <span class="err">be</span> <span class="err">omi</span><span class="kc">tte</span><span class="err">d</span><span class="p">,</span> <span class="err">i</span><span class="kc">f</span> <span class="err">eve</span><span class="kc">nt</span> <span class="err">does</span> <span class="kc">n</span><span class="err">o</span><span class="kc">t</span> <span class="kc">nee</span><span class="err">d</span> <span class="err">a</span> <span class="err">payload.</span> <span class="err">*/</span>
           <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>According to received notification the client application should either update local data or notify user about data changes (for example, new messages received).</p>
<h3 id="subscription-renewal">Subscription Renewal</h3>
<p>Created subscription should be renewed, it would not be sent to the client application anymore once expired. After renewal any parameter of subscription may be changed, so it should be updated on a client side as well. To renew the subscription make a call to the following enpoint:</p>
<div class="codehilite"><pre><span></span><code><span class="err">POST /restapi/v1.0/subscription/{subscriptionId}/renew</span>
</code></pre></div>

<div class="admonition alert">
<p class="admonition-title">FYI</p>
<p>It is recommended to renew a subscription around 1-2 minutes before it is expired. The client should be aware that there may be strict throttling settings on subscriptions operations.</p>
</div>
<h3 id="subscription-modification">Subscription Modification</h3>
<p>In order to subscribe to any other events the client application can create additional subscriptions, but it is preferable to update the already existing subscription with the new event filters. To make this subscription modification the following request should be used:</p>
<div class="highlight"><pre><span></span><code><span class="err">PUT /restapi/v1.0/subscription/{subscriptionId}</span>

<span class="err">{</span>
<span class="err">    &quot;eventFilters&quot;: [</span>
<span class="err">       &quot;/restapi/v1.0/account/~/extension/12345/presence&quot;,</span>
<span class="err">       &quot;/restapi/v1.0/account/~/extension/98765/presence&quot;,</span>
<span class="err">       &quot;/restapi/v1.0/account/~/extension/~/message-store&quot;</span>
<span class="err">     ]</span>
<span class="err">}</span>
</code></pre></div>
<div class="admonition alert">
<p class="admonition-title">FYI</p>
<p>Running this request, either with filters or with an empty body, also automatically renews the existent subscription updating its expiration time."</p>
</div>
<h3 id="unsubscribing">Unsubscribing</h3>
<p>If the application does not need to receive push notifications anymore due to some reason, it should unsubscribe from notifications through special API call. The existing subscription can be deleted as follows:</p>
<div class="highlight"><pre><span></span><code><span class="nf">DELETE</span> <span class="nn">/restapi/v1.0/subscription/78c53776-6aa5-4089-b080-150089c097bf</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="o">:</span> <span class="l">application/json</span>
<span class="na">Authorization</span><span class="o">:</span> <span class="l">Bearer U0pDMDFQMDFKV1MwMnxXEhpuK23FJtRSi_rafOgPSMOorQ</span>
</code></pre></div>
<p>The response will be the following:</p>
<div class="codehilite"><pre><span></span><code>HTTP/1.1 204 No Content
</code></pre></div>

<h2 id="notifications-transport">Notifications Transport</h2>
<p>The system requires a certain transportation mechanism to deliver event notifications from the RingCentral service to the client application. Currently the API uses the PubNub cloud service as a transportation channel.</p>
<p>The PubNub delivery mode uses external service provider PubNub. This provider uses WebSocket, HTTP long-polling, or Apple Push Notifications transports to deliver notifications. It is specifically well suited for web, standalone and mobile applications, and provides an extensive set of client libraries for all of these platforms.</p>
<p>To use this mechanism the client should specify PubNub as a value of <code>deliveryMode.transportType</code> attribute. In response the server provides the following information to be used to connect to PubNub channel:</p>
<ul>
<li>
<p><code>address</code> — PubNub channel name to subscribe to;</p>
</li>
<li>
<p><code>subscriberKey</code> — PubNub subscriber credentials required to subscribe to the channel.</p>
</li>
</ul>
<p>The client uses this information to properly configure the PubNub client library and subscribe to the channel.</p>
<p>PubNub provides SDKs for many popular operating systems and frameworks: iOS, Android, Ruby, JavaScript, Java, Objective C, .Net etc. You can find full list of SDKs on the page <a href="http://www.pubnub.com/developers/">http://www.pubnub.com/developers/</a>. PubNub HTTP REST API can be also used as well. For example, to subscribe for push notifications with channel (address) and credentials (subscriberKey) provided by RingCentral API as it described above, you can use the following HTTP request:</p>
<div class="codehilite"><pre><span></span><code>GET http://pubsub.pubnub.com/subscribe/{subscriberKey}/{address}/{callback}/{timetoken}
</code></pre></div>

<p>You can find full PubNub REST API description on this page <a href="http://www.pubnub.com/http-rest-push-api/">http://www.pubnub.com/http-rest-push-api/</a>.</p>

<ul class="metadata page-metadata" data-bi-name="page info" lang="en-us" dir="ltr">
  <li class="last-updated-holder displayDate loading">
    <span class="last-updated-text">Last updated:</span>
    <time role="presentation" datetime="2018-10-25T00:00:00.000Z" data-article-date-source="ms.date"></time>
  </li>
<!--
  <li class="readingTime">
    2 minutes to read
  </li>
-->
  <li class="contributors-holder">
    <span class="contributors-text">Contributors</span>
    <ul class="contributors" data-bi-name="contributors"></ul>
  </li>
</ul>
</div>
      <div id="sidebar-toc" class="sidebar col-md-3">
        <div class="repo">
              <a class="nav-link" href="https://github.com/ringcentral/ringcentral-api-docs/tree/master/docs/notifications/push-notifications/pubnub.md"><i class="fa fa-github"></i> Edit on GitHub</a>
        </div>

        
        <div id="rating" class="nav-link">&#9733;&#9733;&#9733;&#9733;&#9733;</div>
        

	<nav id="toc" data-toggle="toc" class="sticky-top sticky-offset"></nav>
      </div>

    </div>
    </div><footer class="col-md-12">
  <nav class="container">
    <div class="row row-1">
      <div class="col-6">
	<a class="brand nav-link" href="http://developers.ringcentral.com/">Back to main site</a>
      </div>
      <div class="col-6">
	<ul class="nav flex-row ml-md-auto d-none d-md-flex pull-right">
	  <li class="nav-item"><a class="nav-link" href="http://www.ringcentral.com/legal.html" rel="nofollow">Legal</a></li>
	  <li class="nav-item"><a class="nav-link" href="https://www.ringcentral.com/legal/privacy-notice.html" rel="nofollow">Privacy Notice</a></li>
	  <li class="nav-item"><a class="nav-link" href="https://devcommunity.ringcentral.com/" rel="nofollow">Community</a></li>
	  <li class="nav-item"><a class="nav-link" href="https://medium.com/ringcentral-developers" rel="nofollow">Blog</a></li>
	</ul>
      </div>
    </div>
    <div class="row">
      <div class="col-6">
	<p>&copy;1999-2020 RingCentral, Inc. All rights reserved.</p>
      </div>
      <div class="col-6">
	<ul class="nav flex-row ml-md-auto d-none d-md-flex pull-right">
	  <li><a class="nav-link footer-image-link footer-image-link-facebook" href="http://www.facebook.com/ringcentral">
	      <i class="fa fa-facebook"></i></a></li>
	  <li><a class="nav-link footer-image-link footer-image-link-twitter" href="http://twitter.com/ringcentraldevs">
	      <i class="fa fa-twitter"></i></a></li>
	  <li><a class="nav-link footer-image-link footer-image-link-linkedin" href="http://www.linkedin.com/company/ringcentral">
	      <i class="fa fa-linkedin"></i></a></li>
	  <li><a class="nav-link footer-image-link footer-image-link-youtube" href="http://www.youtube.com/ringcentral">
	      <i class="fa fa-youtube"></i></a></li>
	</ul>
      </div>
  </nav>
</footer>
<script type="text/javascript" src="../../../js/rc.js"></script>
    <script>
      var base_url = "../../..",
          shortcuts = ["foo"];
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" defer></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" defer></script>
    <script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js" defer></script>
    <script src="../../../js/base.js" defer></script>

    <div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="Keyboard Shortcuts Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <p class="h4 modal-title">Keyboard Shortcuts</p>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th scope="col">Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>
    
  </body>
</html>
